# Finance Multi-Agent System Documentation

## Overview
The Finance Multi-Agent System is a sophisticated, LangGraph-powered orchestration platform designed to handle complex financial queries. It decomposes high-level user intents into specialized sub-tasks executed by a fleet of professional agents (Financial Analyst, Risk Specialist, and Investment Advisor).

## System Architecture

### 1. LangGraph Orchestrator (`planner/graph.py`)
The "brain" of the system. It uses a state-machine architecture to manage the lifecycle of a request:
- **Planner Node**: Dissects the user's query and assigns tasks to the most relevant agents.
- **Executor Node**: Manages the parallel or sequential execution of agents.
- **Synthesizer Node**: Aggregates all agent findings into a single, cohesive professional report.

### 2. Specialized Agents (`agents/`)
- **Financial Analyst**: Analyzes financial statements, growth metrics, and health ratios.
- **Risk & Compliance**: Evaluates market volatility, regulatory risks, and debt exposure.
- **Investment Advisor**: Provides tailored asset allocation and investment strategies based on findings.

### 3. Shared Memory (`memory/blackboard.py`)
A thread-safe "Global Blackboard" that allows agents and the orchestrator to log events and share data in real-time.

---

## How to Start the System

### Prerequisites
- Python 3.10+
- A Groq API Key (Stored in `.env`)

### Step 1: Initialize Environment
Ensure your virtual environment is activated and dependencies are installed.
```powershell
.\.venv\Scripts\activate
pip install -r requirements.txt
```

### Step 2: Configure Environment Variables
Create a `.env` file in the `finance-agent-system` directory:
```text
GROQ_API_KEY=your_api_key_here
```

### Step 3: Launch the Server
Navigate to the project root and run:
```powershell
cd finance-agent-system
$env:PYTHONPATH = "."
python api/server.py
```
The server will start on `http://localhost:8001`.

---

## Testing the System

### Health Check
```bash
GET http://localhost:8001/health
```

### Running a Multi-Agent Task
Send a JSON payload to the `/run-task` endpoint:
```json
{
  "task": "Evaluate Microsoft's financial stability and provide a 5-year investment strategy."
}
```

## Response Schema
The system returns a structured response:
- `task`: The original user query.
- `plan`: The sub-tasks generated by the orchestrator.
- `agent`: The current orchestrator name.
- `result`: The final professional synthesis.
- `intermediate_results`: Detailed findings from each individual agent.
- `blackboard`: Full system logs and shared data state.
